uuid: 01b1b7d8-3db8-41b7-b351-307ef07053d9
langcode: en
status: true
dependencies:
  enforced:
    module:
      - wa_migration
id: curated_listing_ca
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags:
  - Database
migration_group: wateraid_ca
label: 'Curated Listing (CA)'
source:
  plugin: paragraph_source
  bundle: curated_listing
  fields:
    - field_match_all_terms
    - field_cl_display
    - field_cl_terms
    - field_cl_types
process:
  langcode:
    -
      plugin: default_value
      default_value: en
  status: status
  field_match_all_terms:
    plugin: static_map
    source: field_match_all_terms
    default_value: or
    map:
      - or
      - all
  field_content_types:
    plugin: static_map
    source: field_cl_types
    default_value: ''
    map:
      campaign: standard_page
      country_details: standard_page
      filtered_landing_page: listing_page
      flexible_content: standard_page
      get_involved: landing_page
      job: standard_page
      press_and_media: page
      press_and_media_flexible: standard_page
      shorthand_story: story
      stories: story
      article: article
      event: event
      publication: publication
      standard_page: standard_page
  field_audience:
    -
      plugin: migration_lookup
      migration: audiences_ca
      source: field_cl_terms
      no_stub: true
    -
      plugin: skip_on_empty
      method: process
  field_get_involved:
    -
      plugin: migration_lookup
      migration: get_involved_ca
      source: field_cl_terms
      no_stub: true
    -
      plugin: skip_on_empty
      method: process
  field_country:
    -
      plugin: migration_lookup
      migration: countries_ca
      source: field_cl_terms
      no_stub: true
    -
      plugin: skip_on_empty
      method: process
  field_event_type:
    -
      plugin: migration_lookup
      migration: event_types_ca
      source: field_cl_terms
      no_stub: true
    -
      plugin: skip_on_empty
      method: process
  field_subject_area:
    -
      plugin: migration_lookup
      migration: subject_areas_ca
      source: field_cl_terms
      no_stub: true
    -
      plugin: skip_on_empty
      method: process
  field_themes:
    -
      plugin: migration_lookup
      migration: themes_ca
      source: field_cl_terms
      no_stub: true
    -
      plugin: skip_on_empty
      method: process
  field_topic:
    -
      plugin: migration_lookup
      migration: topic_ca
      source: field_cl_terms
      no_stub: true
    -
      plugin: skip_on_empty
      method: process
  field_rows: field_rows
  field_card_columns: field_card_columns
destination:
  plugin: 'entity:paragraph'
  default_bundle: related_content
idMap: {  }
migration_dependencies:
  required:
    - audiences_ca
    - get_involved_ca
    - countries_ca
    - event_types_ca
    - subject_areas_ca
    - themes_ca
    - topic_ca
include: null
