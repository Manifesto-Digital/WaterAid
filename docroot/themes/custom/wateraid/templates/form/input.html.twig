{#
/**
 * @file
 * Theme override for an 'input' #type form element.
 *
 * Conditionally renders submit inputs as <button> elements via an include,
 * and passes a specific 'theme' based on whether it is a 'next' or 'previous' button.
 */
#}
{% if button_type is defined and button_type %}
  {% if button_type == 'previous' or button_type == 'next' or button_type == 'webform-submit' %}
    {% set theme = (button_type == 'next' or button_type == 'webform-submit') ? 'primary' : 'secondary' %}

    {{ include('wateraid:button', {
      type: theme|default('primary'),
      attributes: attributes,
      theme: 'light',
      isInput: true,
    }) }}

  {% else %}
    {% set text = attributes.value %}
    {% set theme = button_type == 'primary' ? 'primary' : 'secondary' %}

    {{ include('wateraid:button', {
      text: text,
      type: theme|default('primary'),
      attributes: attributes,
      theme: 'light',
    }) }}
  {% endif %}

{% else %}
  <input{{ attributes }} />{{ children }}
{% endif %}
