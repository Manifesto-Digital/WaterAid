{% set hero_classes = [
  'hero',
  'hero--'~colour,
  image or video ? 'hero--media' : 'hero--basic'
] %}

<div {{ attributes.addClass(hero_classes) }}>
  {# attributes are passed to children so we must clear them here #}
  {% set attributes = attributes.removeClass(hero_classes) %}

  {% if mobile_image|render %}
    <div class="hero__image hero__image--mobile">
      {{ include('wateraid:image', {
        image: mobile_image,
        caption: mobile_caption,
        credit: mobile_credit,
        width: 'full',
        caption_display: 'expandable'
      }) }}
    </div>
  {% endif %}

  {% if image %}
    <div class="hero__image {{ mobile_image|render ? "hero__image--desktop" }}">
      {% if (image_crop_data.x is not null) and (image_crop_data.y is not null) %}
        {{ include('wateraid:image', {
          image: image,
          caption: media_caption,
          credit: media_credit,
          width: 'full',
          caption_display: 'expandable',
          cropVariant: 'cropped',
          image_crop_data,
        }) }}
      {% else %}
        {{ include('wateraid:image', {
          image: image,
          caption: media_caption,
          credit: media_credit,
          width: 'full',
          caption_display: 'expandable'
        }) }}
      {% endif %}
    </div>
  {% endif %}

  {% if video %}
    <div class="hero__video">
      {{ video }}

      {% if video[0]['#media'].bundle() != 'remote_video' %}
        <div class="hero__video--play">
          {{ include('wateraid:button', {
            text: 'Play video',
            link: '',
            id: 'hero-play-button',
            type: 'icon',
            icon: 'wa-utility-play',
            theme: 'dark',
          }) }}
        </div>
        <div class="hero__video--pause">
          {{ include('wateraid:button', {
            text: 'Pause video',
            link: '',
            id: 'hero-pause-button',
            type: 'icon',
            icon: 'wa-utility-pause',
            theme: 'dark',
          }) }}
        </div>
      {% endif %}
    </div>
  {% endif %}
  <div class="hero__content">
    <div class="hero__content-wrapper">
      <h1 class="hero__content--title">{{ title }}</h1>

      {% if standfirst %}
        <div class="hero__content--standfirst">
          {{ standfirst }}
        </div>
      {% endif %}

      {% if cta.title and cta.url or link.title and link.url %}
        <div class="hero__content--ctas">
          {% if cta.title and cta.url %}
            <div class="hero__content--cta">
              {% if cta.type == 'donate' %}
                {{ include('wateraid:button', {
                  text: cta.title,
                  link: cta.url,
                  type: 'donate',
                }) }}
              {% else %}
                {{ include('wateraid:button', {
                  text: cta.title,
                  link: cta.url,
                  type: 'primary',
                  theme: colour == 'white' ? 'light' : 'dark'
                }) }}
              {% endif %}
            </div>
          {% endif %}
          {% if link.title and link.url %}
            <div class="hero__content--link">
              {{ include('wateraid:link', {
                text: link.title,
                link: link.url,
                type: 'text',
              }) }}
            </div>
          {% endif %}
        </div>
      {% endif %}
    </div>
  </div>
</div>
